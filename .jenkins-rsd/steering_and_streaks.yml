- job:
    name: 'steering_and_streaks-heme'
    description: |
        Also includes steering tests.
        Runs only one type of legion compiler to avoid issues with bind address.
    disabled: false
    block-upstream: true
    builders:
        - config_build_test:
            steering: 'basic'
            streaks: 'ON'
            sse3: 'OFF'
    scm:
        - git:
            url: git@github.com:UCL-CCS/hemelb-dev.git
            browser: githubweb
            branches:
                - origin/master
            browser-url: https://github.com/UCL-CCS/hemelb-dev
            submodule:
                recursive: true
            wipe-workspace: true
            refspec: +refs/heads/*:refs/remotes/origin/*

    triggers:
        - nightly_and_hook

    publishers:
        - cpp_unit_tests
        - slackers
        - cppcheck-heme

    axes:
        - axis:
            type: slave
            name: os
            values:
                - Mavericks
                - LegionRHEL7
        - axis:
            type: user-defined
            name: compiler
            values:
                - clang
                - intel
